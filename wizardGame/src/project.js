window.__require=function e(t,c,i){function o(r,a){if(!c[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var d=c[r]={exports:{}};t[r][0].call(d.exports,function(e){return o(t[r][1][e]||e)},d,d.exports,e,t,c,i)}return c[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({Anims:[function(e,t,c){"use strict";cc._RF.push(t,"8ddf0dZe1tFrIToUyoWQXfj","Anims");var i,o=this&&this.__extends||function(){var e=function(t,c){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var c in t)t.hasOwnProperty(c)&&(e[c]=t[c])})(t,c)};return function(t,c){function i(){this.constructor=t}e(t,c),t.prototype=null===c?Object.create(c):(i.prototype=c.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,c,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,c):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,c,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,c,r):o(t,c))||r);return n>3&&r&&Object.defineProperty(t,c,r),r};Object.defineProperty(c,"__esModule",{value:!0}),function(e){e[e.Scale=0]="Scale",e[e.Twinkle=1]="Twinkle",e[e.MoveHand=2]="MoveHand",e[e.ScaleGoto=3]="ScaleGoto",e[e.HandPress=4]="HandPress",e[e.TxtScal=5]="TxtScal",e[e.Rotate=6]="Rotate",e[e.Runvanish=7]="Runvanish",e[e.Runfluctuate=8]="Runfluctuate",e[e.Special=9]="Special"}(i||(i={}));var r=cc._decorator,a=r.ccclass,s=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aniType=i.Scale,t}return o(t,e),t.prototype.onLoad=function(){var e=this;switch(this.aniType){case i.Scale:this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.9),cc.scaleTo(.5,1))));break;case i.Twinkle:this.node.runAction(cc.repeatForever(cc.sequence(cc.fadeOut(.5),cc.fadeIn(.5))));break;case i.MoveHand:this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,-10,10),cc.moveBy(.5,10,-10))));break;case i.ScaleGoto:this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.2,-1),cc.rotateTo(.2,1))));break;case i.HandPress:this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){e.node.getChildByName("s_yuan").runAction(cc.sequence(cc.fadeIn(.1),cc.scaleTo(.3,1.5),cc.fadeOut(.1),cc.scaleTo(0,1),cc.delayTime(1.1))),e.node.getChildByName("s_finger").runAction(cc.sequence(cc.fadeIn(.1),cc.moveBy(.3,-5,5),cc.spawn(cc.moveBy(.6,100,0),cc.callFunc(function(){var t=e.node.getChildByName("s_jiantou"),c=function(){t.getComponent(cc.Sprite).fillRange>=1&&(t.getComponent(cc.Sprite).fillRange=0,e.unschedule(c)),t.getComponent(cc.Sprite).fillRange+=.06};e.schedule(c,.06)})),cc.moveBy(.3,5,-5),cc.fadeOut(.1),cc.delayTime(.2),cc.callFunc(function(){e.node.getChildByName("s_finger").x=60,e.node.getChildByName("s_finger").y=-60})))}),cc.delayTime(1.6))));break;case i.TxtScal:this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.01,1.1),cc.callFunc(function(){e.node.getComponent(cc.Label).string=parseInt(e.node.getComponent(cc.Label).string)+1+""}),cc.scaleTo(.01,.9))));break;case i.Rotate:this.node.runAction(cc.repeatForever(cc.rotateBy(5,360)));break;case i.Runvanish:this.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(0,140,-170),cc.fadeIn(.2),cc.moveTo(1,50,250),cc.fadeOut(.2))));break;case i.Runfluctuate:this.node.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5,0,-10),cc.moveBy(.5,0,10))));break;case i.Special:this.node.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){e.node.children[1].active=!0}),cc.delayTime(.3),cc.callFunc(function(){e.node.children[0].active=!0}),cc.delayTime(.3),cc.callFunc(function(){e.node.children[0].active=!1,e.node.children[1].active=!1}),cc.delayTime(.3))))}},n([s({type:cc.Enum(i),displayName:"\u52a8\u753b\u7c7b\u578b"})],t.prototype,"aniType",void 0),t=n([a],t)}(cc.Component);c.default=u,cc._RF.pop()},{}],gameScript:[function(e,t,c){"use strict";cc._RF.push(t,"f9490RadHZFcJL5IGqiuRTy","gameScript");var i=this&&this.__extends||function(){var e=function(t,c){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var c in t)t.hasOwnProperty(c)&&(e[c]=t[c])})(t,c)};return function(t,c){function i(){this.constructor=t}e(t,c),t.prototype=null===c?Object.create(c):(i.prototype=c.prototype,new i)}}(),o=this&&this.__decorate||function(e,t,c,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,c):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,c,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,c,r):o(t,c))||r);return n>3&&r&&Object.defineProperty(t,c,r),r};Object.defineProperty(c,"__esModule",{value:!0});var n,r,a=e("../script/musicScript"),s=cc._decorator,u=s.ccclass;s.property;(function(e){e[e.dns=0]="dns",e[e.start=1]="start",e[e.pause=2]="pause",e[e.over=3]="over"})(n||(n={})),function(e){e[e.up=0]="up",e[e.right=1]="right",e[e.down=2]="down",e[e.left=3]="left"}(r||(r={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.homeNode=null,t.gameNode=null,t.trackNode=null,t.crashNode1=null,t.crashNode2=null,t.crashNode3=null,t.roundNode=null,t.gameState=n.dns,t.gameDirection=r.right,t.cannons=[],t.roundArr=[],t.picNode=null,t.gameTimeBar=null,t.gameTimeTxtBox=null,t.gameTimeTxt=null,t.timeLabelNode=null,t.guideNode=null,t.guideArr=[],t.overNode=null,t.guidanceNode=null,t.guidanceNum=0,t.trackNum=0,t.distanceVal=5,t.gametime=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.homeNode=this.node.getChildByName("beginNode"),this.homeNode.getChildByName("home_play_btn").on("click",this.beginFun,this),this.gameNode=this.node.getChildByName("gameNode"),this.trackNode=this.gameNode.getChildByName("trackNode"),this.crashNode1=this.trackNode.getChildByName("obstacleNode"),this.crashNode2=this.trackNode.getChildByName("pipelineUpNode"),this.crashNode3=this.trackNode.getChildByName("pipelineDownpNode"),this.picNode=this.gameNode.getChildByName("picNode"),this.roundNode=this.trackNode.getChildByName("roundNode"),this.gameTimeBar=this.gameNode.getChildByName("gameTimeBar"),this.gameTimeTxtBox=this.gameTimeBar.getChildByName("bar").getChildByName("g_energy_line4"),this.gameTimeTxt=this.gameTimeTxtBox.getChildByName("Label").getComponent(cc.Label),this.timeLabelNode=this.gameNode.getChildByName("timeLabel"),this.guideNode=this.trackNode.getChildByName("guideNode"),this.overNode=this.node.getChildByName("overNode"),this.guidanceNode=this.node.getChildByName("guidanceNode"),this.crashNode1.children.forEach(function(t,c){e.cannons.push(e.crashNode1.children[c])}),this.crashNode2.children.forEach(function(t,c){e.cannons.push(e.crashNode2.children[c])}),this.crashNode3.children.forEach(function(t,c){e.cannons.push(e.crashNode3.children[c])}),this.roundNode.children.forEach(function(t,c){e.roundArr.push(e.roundNode.children[c])}),this.guideNode.children.forEach(function(t,c){e.guideArr.push(e.guideNode.children[c])}),this.homeNode.active=!0},t.prototype.beginFun=function(){var e=this;a.default.clickMusic(),this.homeNode.active=!1;var t=3;a.default.daojishiMusic(),this.timeLabelNode.getComponent(cc.Label).string=t+"";var c=function(){t--,e.timeLabelNode.getComponent(cc.Label).string=t+"",t<=0?(a.default.duduMusic(),e.unschedule(c),e.gameState=n.start,e.schedule(e.timeFun,1),e.scheduleOnce(function(){e.timeLabelNode.active=!1},.1),e.gameDirection=r.right):a.default.daojishiMusic()};this.schedule(c,1)},t.prototype.update=function(e){var t=this;if(this.gameState===n.start)if(this.gameDirection===r.up?this.trackNode.y-=this.distanceVal:this.gameDirection===r.down?this.trackNode.y+=this.distanceVal:this.gameDirection===r.left?this.trackNode.x+=this.distanceVal:this.gameDirection===r.right&&(this.trackNode.x-=this.distanceVal),this.getWorlCannon()){if(this.gameState=n.pause,a.default.electricMusic(),this.trackNum>=3)return void this.overFun();this.trackNum++,this.picNode.getChildByName("bloodBar").getComponent(cc.ProgressBar).progress=1-.3*this.trackNum,this.gameDirection===r.right?this.crashFun(100,0):this.gameDirection===r.up?this.crashFun(0,100):this.gameDirection===r.down&&this.crashFun(0,-100),this.scheduleOnce(function(){t.gameState===n.pause&&(t.gameState=n.start,t.gameDirection=r.right),t.picNode.getChildByName("electricity").active=!1},1),cc.loader.loadRes("Sprite/g_pic_enjoy_0"+(this.trackNum+1),function(e,c){e||(t.picNode.getChildByName("picicon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(c))})}else if(this.getWorlFail())this.gameDirection=r.right;else if(this.getWorlguide()){this.guidanceNum++,this.gameState=n.pause,this.unschedule(this.timeFun),this.guidanceNode.active=!0,this.guideArr.shift();this.guidanceNode.getChildByName("u_info").x=[-228,6,240][this.guidanceNum-1],this.guidanceNode.getChildByName("u_info").getChildByName("Label").getComponent(cc.Label).string=["\u5411\u4e0b","\u52a0\u901f","\u5411\u4e0a"][this.guidanceNum-1];for(var c=this.guidanceNode.getChildByName("mengban"),i=0;i<c.children.length;i++)c.children[i].active=!1;c.children[this.guidanceNum-1].active=!0}},t.prototype.crashFun=function(e,t){var c=this;this.picNode.getChildByName("electricity").active=!0,this.trackNode.runAction(cc.sequence(cc.moveBy(.3,e,t),cc.callFunc(function(){c.picNode.runAction(cc.repeat(cc.sequence(cc.fadeOut(.2),cc.fadeIn(.2)),2)),c.picNode.getChildByName("picicon").runAction(cc.repeat(cc.sequence(cc.moveBy(.1,-2,0),cc.moveBy(.1,2,0)),4))})))},t.prototype.getWorlCannon=function(){for(var e=null,t=this.picNode.getBoundingBoxToWorld().center,c=0;c<this.cannons.length;c++){var i=this.cannons[c];if(i.getBoundingBoxToWorld().contains(t)){e=i;break}}return e},t.prototype.getWorlFail=function(){for(var e=null,t=this.picNode.getBoundingBoxToWorld().center,c=0;c<this.roundArr.length;c++){var i=this.roundArr[c];if(i.getBoundingBoxToWorld().contains(t)){e=i;break}}return e},t.prototype.getWorlguide=function(){for(var e=null,t=this.picNode.getBoundingBoxToWorld().center,c=0;c<this.guideArr.length;c++){var i=this.guideArr[c];if(i.getBoundingBoxToWorld().contains(t)){e=i;break}}return e},t.prototype.timeFun=function(){this.gametime+=1,this.gameTimeBar.getComponent(cc.ProgressBar).progress=this.gametime/15,this.gameTimeTxt.string=this.gametime+":",this.gameTimeTxtBox.getComponent(cc.Widget).updateAlignment(),this.gametime>=15&&(this.overFun(),a.default.duduMusic()),this.gametime>=12&&this.gametime<15&&a.default.daojishiMusic(),8==this.gametime&&(this.distanceVal=7)},t.prototype.overFun=function(){var e=this;a.default.successMusic(),this.gameState=n.over,this.picNode.getChildByName("bloodBar").getComponent(cc.ProgressBar).progress=0,cc.loader.loadRes("Sprite/g_pic_enjoy_04",function(t,c){t||(e.picNode.getChildByName("picicon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(c))}),this.unschedule(this.timeFun),this.overNode.active=!0},t.prototype.operationBtnFun=function(e,t){var c=this;a.default.clickMusic(),"down"==t?this.gameDirection=r.down:"up"==t?this.gameDirection=r.up:"expedite"==t&&(this.distanceVal=this.distanceVal>=7?9:7,this.scheduleOnce(function(){c.distanceVal=7==c.distanceVal?5:7},2)),this.gameState===n.pause&&(this.guidanceNode.active=!1,this.gameState=n.start,this.unschedule(this.timeFun),this.schedule(this.timeFun,1))},t.prototype.downloadFun=function(){cc.log("\u4e0b\u8f7d"),a.default.clickMusic(),window.FbPlayableAd&&window.FbPlayableAd.onCTAClick()},t=o([u],t)}(cc.Component);c.default=d,cc._RF.pop()},{"../script/musicScript":"musicScript"}],loadScript:[function(e,t,c){"use strict";cc._RF.push(t,"8326dqE1W5Drr0obwqsQDbD","loadScript");var i=this&&this.__extends||function(){var e=function(t,c){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var c in t)t.hasOwnProperty(c)&&(e[c]=t[c])})(t,c)};return function(t,c){function i(){this.constructor=t}e(t,c),t.prototype=null===c?Object.create(c):(i.prototype=c.prototype,new i)}}(),o=this&&this.__decorate||function(e,t,c,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,c):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,c,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,c,r):o(t,c))||r);return n>3&&r&&Object.defineProperty(t,c,r),r};Object.defineProperty(c,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t.loadText=null,t}return i(t,e),t.prototype.onLoad=function(){cc.director.preloadScene("game",this.onProgress.bind(this),function(){cc.director.loadScene("game"),console.log("\u6253\u5370")})},t.prototype.onProgress=function(e,t,c){this.progressBar.progress=e/t;var i=Math.floor(100*this.progressBar.progress);this.loadText&&(this.loadText.string=(i>100?100:i)+"%")},t.prototype.init=function(){var e=cc.Canvas.instance,t=e.designResolution.height/e.designResolution.width;cc.winSize.height/cc.winSize.width>t?(e.fitHeight=!1,e.fitWidth=!0):(e.fitHeight=!0,e.fitWidth=!1)},o([a(cc.ProgressBar)],t.prototype,"progressBar",void 0),o([a(cc.Label)],t.prototype,"loadText",void 0),t=o([r],t)}(cc.Component);c.default=s,cc._RF.pop()},{}],musicScript:[function(e,t,c){"use strict";cc._RF.push(t,"b43501G0l1A2736IhcgU+wA","musicScript");var i=this&&this.__extends||function(){var e=function(t,c){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var c in t)t.hasOwnProperty(c)&&(e[c]=t[c])})(t,c)};return function(t,c){function i(){this.constructor=t}e(t,c),t.prototype=null===c?Object.create(c):(i.prototype=c.prototype,new i)}}(),o=this&&this.__decorate||function(e,t,c,i){var o,n=arguments.length,r=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,c):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,c,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,c,r):o(t,c))||r);return n>3&&r&&Object.defineProperty(t,c,r),r};Object.defineProperty(c,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,a=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.clickMusic=function(){cc.loader.loadResDir("music/click",function(e,t){e||cc.audioEngine.play(t[0],!1,1)})},t.successMusic=function(){cc.loader.loadResDir("music/success",function(e,t){e||cc.audioEngine.play(t[0],!1,1)})},t.electricMusic=function(){cc.loader.loadResDir("music/electric",function(e,t){e||cc.audioEngine.play(t[0],!1,1)})},t.daojishiMusic=function(){cc.loader.loadResDir("music/daojishi",function(e,t){e||cc.audioEngine.play(t[0],!1,1)})},t.duduMusic=function(){cc.loader.loadResDir("music/dudu",function(e,t){e||cc.audioEngine.play(t[0],!1,1)})},t=o([r],t)}(cc.Component));c.default=a,cc._RF.pop()},{}]},{},["Anims","gameScript","loadScript","musicScript"]);